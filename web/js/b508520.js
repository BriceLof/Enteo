;$(window).load(function(){console.log('Infos disponibles ')});$(function(){$('.villeAjaxBeneficiaire option:first-child').val('');$('.villeAjaxBeneficiaire option:first-child').text('');$('.villeAjaxBeneficiaire').attr('disabled','disabled');$('.codePostalInputForAjaxBeneficiaire').keyup(function(){$('.villeAjaxBeneficiaire').attr('disabled','disabled');cp=$(this).val();if(cp.length==5){console.log('je lance l\'ajax');$.ajax({type:'get',url:Routing.generate('application_plateforme_get_ville_ajax',{departement:cp}),beforeSend:function(){console.log('ça charge');$('.villeAjaxBeneficiaire option').remove()}}).done(function(e){$('.villeAjaxBeneficiaire').removeAttr('disabled');for(var i=0;i<e.villes.length;i++){$('.villeAjaxBeneficiaire').append('<option value='+e.villes[i].id+'>'+e.villes[i].nom+'</option>')}})}
else{$('.villeAjaxBeneficiaire option').remove();$('.villeAjaxBeneficiaire').removeAttr('disabled')}});if($('#beneficiaire_codePostalHiddenBeneficiaire').length==1){cp=$('#beneficiaire_codePostalHiddenBeneficiaire').val();idVille=$('#beneficiaire_idVilleHiddenBeneficiaire').val();if(cp.length==5){console.log('je lance l\'ajax');$.ajax({type:'get',url:Routing.generate('application_plateforme_get_ville_ajax',{departement:cp}),beforeSend:function(){console.log('ça charge');$('.block_info_chargement').show()}}).done(function(e){$('.block_info_chargement').hide();$('.villeAjaxBeneficiaire option').remove();$('.villeAjaxBeneficiaire').removeAttr('disabled');for(var i=0;i<e.villes.length;i++){if(idVille==e.villes[i].id)$('.villeAjaxBeneficiaire').append('<option selected data-cp='+e.villes[i].cp+' value='+e.villes[i].id+'>'+e.villes[i].nom+'</option>');else $('.villeAjaxBeneficiaire').append('<option data-cp='+e.villes[i].cp+' value='+e.villes[i].id+'>'+e.villes[i].nom+'</option>')}})}}});(function(){var o=document.getElementById('proposition_pdf'),n=document.getElementById('beneficiaire_proposition_adresse'),l=document.getElementById('accompagnement_proposition_heure'),a=document.getElementById('accompagnement_proposition_dateDebut'),i=document.getElementById('accompagnement_proposition_dateFin'),e='champs manquant : <br>';o.addEventListener('click',function(o){if(n.value==''||a.value=='0'||i.value=='0'||l.value==''){if(n.value==''){e+='- l\'adresse du bénéficiaire <br>'};if(a.value=='0'){e+='- la date de début de l\'accompagnement <br>'};if(i.value=='0'){e+='- la date de fin de l\'accompagnement <br>'};if(l.value==''){e+='- le nombre d\'accompagnement en heures <br>'};$('body').append('<div id="dataConfirmModal2" class="modal" role="dialog" aria-labelledby="dataConfirmLabel" aria-hidden="true"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button><h3 id="dataConfirmLabel">Merci de verifier</h3></div><div class="modal-body"><p>'+e+'</p></div><div class="modal-footer"><button class="btn btn-danger" data-dismiss="modal" aria-hidden="true">Fermer</button></div></div></div></div>');$('#dataConfirmModal2').find('.modal-body').text($(this).attr('data-confirm'));$('#dataConfirmModal2').modal({show:!0});o.preventDefault()}
else{}})})();